# -*- coding: utf-8 -*-
import os.path
from mimetypes import types_map

DEFAULT_MIME_TYPE = "application/octet-stream"

class MimeType(object):
	_mimes_map = {'text/vnd.wap.wmlscript': ('', 'WMLScript program', ''), 'application/pgp-keys': ('', 'PGP keys', ''), 'image/x-eps': ('', 'EPS image', ''), 'application/x-gettext-translation': ('', 'translated messages (machine-readable)', ''), 'image/vnd.microsoft.icon': ('', 'Microsoft icon', ''), 'audio/x-speex': ('', 'Speex audio', ''), 'application/mathml+xml': ('', 'MathML document', ''), 'text/x-troff-me': ('', 'Troff ME input document', ''), 'text/x-ocl': ('', 'OCL file', ''), 'audio/x-m4b': ('', 'MPEG-4 audio book', ''), 'text/x-xslfo': ('', 'XSL FO file', ''), 'application/vnd.oasis.opendocument.database': ('', 'ODB database', ''), 'text/x-log': ('', 'application log', ''), 'application/vnd.sun.xml.calc.template': ('', 'OpenOffice Calc template', ''), 'application/x-font-sunos-news': ('', 'SunOS News font', ''), 'inode/chardevice': ('', 'character device', ''), 'image/x-kodak-kdc': ('', 'Kodak KDC raw image', ''), 'audio/x-tta': ('', 'TrueAudio audio', ''), 'text/x-troff-ms': ('', 'Troff MS input document', ''), 'x-content/video-svcd': ('', 'Super Video CD', ''), 'text/x-ms-regedit': ('', 'Windows Registry extract', ''), 'application/x-krita': ('', 'Krita document', ''), 'audio/x-minipsf': ('', 'MiniPSF audio', ''), 'application/x-java-jnlp-file': ('', 'JNLP file', ''), 'video/x-matroska': ('', 'Matroska video', ''), 'video/3gpp': ('', '3GPP multimedia file', ''), 'application/x-windows-themepack': ('', 'Microsoft Windows theme pack', ''), 'audio/x-ape': ('', "Monkey's audio", ''), 'image/x-dib': ('', 'DIB image', ''), 'application/x-e-theme': ('', 'Enlightenment theme', ''), 'audio/x-it': ('', 'Impulse Tracker audio', ''), 'application/x-cpio': ('', 'CPIO archive', ''), 'x-content/video-hddvd': ('', 'HD DVD video disc', ''), 'application/x-java': ('', 'Java class', ''), 'video/x-theora+ogg': ('', 'Ogg Theora video', ''), 'application/x-xliff': ('', 'XLIFF translation file', ''), 'application/x-profile': ('', 'profiler results', ''), 'audio/x-riff': ('', 'RIFF audio', ''), 'application/x-lyx': ('', 'LyX document', ''), 'image/x-niff': ('', 'NIFF image', ''), 'application/x-compressed-tar': ('', 'Tar archive (gzip-compressed)', ''), 'application/xspf+xml': ('', 'XSPF playlist', ''), 'application/x-shockwave-flash': ('', 'Shockwave Flash file', ''), 'text/x-readme': ('', 'README document', ''), 'application/x-zerosize': ('', 'empty document', ''), 'audio/x-adpcm': ('', 'PCM audio', ''), 'application/x-xz': ('', 'XZ archive', ''), 'x-content/video-bluray': ('', 'Blu-ray video disc', ''), 'image/x-xpixmap': ('', 'XPM image', ''), 'application/x-markaby': ('', 'Markaby script', ''), 'application/xml': ('', 'XML document', ''), 'application/x-genesis-rom': ('', 'Genesis ROM', ''), 'application/x-nautilus-link': ('', 'Nautilus link', ''), 'audio/AMR': ('', 'AMR audio', ''), 'text/x-emacs-lisp': ('', 'Emacs Lisp source code', ''), 'image/x-bzeps': ('', 'EPS image (bzip-compressed)', ''), 'application/x-font-linux-psf': ('', 'Linux PSF console font', ''), 'text/x-authors': ('', 'author list', ''), 'application/x-kivio': ('', 'Kivio flowchart', ''), 'image/x-photo-cd': ('', 'PCD image', ''), 'application/x-cisco-vpn-settings': ('', 'Cisco VPN Settings', ''), 'application/x-font-tex': ('', 'TeX font', ''), 'application/x-xbel': ('', 'XBEL bookmarks', ''), 'image/x-xfig': ('', 'XFig image', ''), 'application/x-frame': ('', 'Adobe FrameMaker document', ''), 'audio/ogg': ('', 'Ogg Audio', ''), 'text/css': ('', 'CSS stylesheet', ''), 'application/zip': ('', 'Zip archive', ''), 'multipart/related': ('', 'compound document', ''), 'text/x-sql': ('', 'SQL code', ''), 'image/x-msod': ('', 'Office drawing', ''), 'video/wavelet': ('', 'Wavelet video', ''), 'application/x-cue': ('', 'CD image cuesheet', ''), 'image/x-jng': ('', 'JNG image', ''), 'application/x-hwt': ('', 'Haansoft Hangul document template', ''), 'image/x-iff': ('', 'IFF image', ''), 'application/x-java-archive': ('', 'Java archive', ''), 'application/vnd.sun.xml.impress.template': ('', 'OpenOffice Impress template', ''), 'x-content/blank-bd': ('', 'blank Blu-ray disc', ''), 'text/x-mrml': ('', 'MRML playlist', ''), 'text/x-google-video-pointer': ('', 'Google Video Pointer', ''), 'application/x-egon': ('', 'Egon Animator animation', ''), 'image/x-dds': ('', 'DirectDraw surface', ''), 'application/x-cdrdao-toc': ('', 'CD Table Of Contents', ''), 'audio/x-musepack': ('', 'Musepack audio', ''), 'application/vnd.oasis.opendocument.formula-template': ('', 'ODF template', ''), 'video/x-anim': ('', 'ANIM animation', ''), 'application/illustrator': ('', 'Adobe Illustrator document', ''), 'image/tiff': ('', 'TIFF image', ''), 'text/x-makefile': ('', 'Makefile', ''), 'audio/x-wavpack-correction': ('', 'WavPack audio correction file', ''), 'application/x-font-bdf': ('', 'BDF font', ''), 'application/x-aportisdoc': ('', 'AportisDoc document', ''), 'application/x-kpresenter': ('', 'KPresenter presentation', ''), 'audio/x-wavpack': ('', 'WavPack audio', ''), 'application/xhtml+xml': ('', 'XHTML page', ''), 'application/x-dia-diagram': ('', 'Dia diagram', ''), 'application/x-msi': ('', 'Windows Installer package', ''), 'application/pkix-pkipath': ('', 'PkiPath certification path', ''), 'application/x-python-bytecode': ('', 'Python bytecode', ''), 'application/vnd.google-earth.kml+xml': ('', 'KML geographic data', ''), 'image/x-cmu-raster': ('', 'CMU raster image', ''), 'application/vnd.oasis.opendocument.spreadsheet': ('', 'ODS spreadsheet', ''), 'application/x-amipro': ('', 'Lotus AmiPro document', ''), 'text/x-c++src': ('', 'C++ source code', ''), 'multipart/encrypted': ('', 'encrypted message', ''), 'application/vnd.stardivision.impress': ('', 'StarImpress presentation', ''), 'application/x-designer': ('', 'Qt Designer file', ''), 'x-content/video-dvd': ('', 'video DVD', ''), 'application/x-jbuilder-project': ('', 'JBuilder project', ''), 'audio/x-xi': ('', 'Scream Tracker instrument', ''), 'application/x-toutdoux': ('', 'ToutDoux document', ''), 'audio/x-xm': ('', 'FastTracker II audio', ''), 'text/x-literate-haskell': ('', 'LHS source code', ''), 'application/x-lha': ('', 'LHA archive', ''), 'audio/x-ms-wma': ('', 'Windows Media audio', ''), 'application/x-siag': ('', 'Siag spreadsheet', ''), 'audio/x-mpegurl': ('', 'MP3 audio (streamed)', ''), 'application/x-sms-rom': ('', 'Sega Master System/Game Gear ROM', ''), 'application/vnd.sun.xml.writer.template': ('', 'OpenOffice Writer template', ''), 'message/rfc822': ('', 'email message', ''), 'image/bmp': ('', 'Windows BMP image', ''), 'application/msword-template': ('', 'Word template', ''), 'image/cgm': ('', 'Computer Graphics Metafile', ''), 'image/x-skencil': ('', 'Skencil document', ''), 'image/vnd.adobe.photoshop': ('', 'Photoshop image', ''), 'application/x-hdf': ('', 'HDF document', ''), 'audio/midi': ('', 'MIDI audio', ''), 'text/vnd.graphviz': ('', 'Graphviz DOT graph', ''), 'image/x-emf': ('', 'EMF image', ''), 'application/x-ruby': ('', 'Ruby script', ''), 'text/x-dcl': ('', 'DCL script', ''), 'image/x-xbitmap': ('', 'XBM image', ''), 'application/x-sv4cpio': ('', 'SV4 CPIO archive', ''), 'application/x-gzpostscript': ('', 'PostScript document (gzip-compressed)', ''), 'application/x-pkcs12': ('', 'PKCS#12 certificate bundle', ''), 'application/vnd.ms-powerpoint': ('', 'PowerPoint presentation', ''), 'video/x-ms-wmv': ('', 'Windows Media video', ''), 'application/x-karbon': ('', 'Karbon14 drawing', ''), 'application/vnd.apple.mpegurl': ('', 'HTTP Live Streaming playlist', ''), 'application/vnd.oasis.opendocument.presentation-flat-xml': ('', 'ODP presentation (Flat XML)', ''), 'application/rss+xml': ('', 'RSS summary', ''), 'application/annodex': ('', 'Annodex exchange format', ''), 'application/x-reject': ('', 'rejected patch', ''), 'text/richtext': ('', 'rich text document', ''), 'audio/x-flac': ('', 'FLAC audio', ''), 'application/x-gedcom': ('', 'GEDCOM family history', ''), 'text/x-ldif': ('', 'LDIF address book', ''), 'application/x-ace': ('', 'ACE archive', ''), 'application/x-kspread-crypt': ('', 'KSpread spreadsheet (encrypted)', ''), 'image/x-pcx': ('', 'PCX image', ''), 'application/postscript': ('', 'PS document', ''), 'application/x-dvi': ('', 'TeX DVI document', ''), 'application/x-font-ttf': ('', 'TrueType font', ''), 'application/x-bzpdf': ('', 'PDF document (bzip-compressed)', ''), 'application/x-font-ttx': ('', 'TrueType XML font', ''), 'image/x-fuji-raf': ('', 'Fuji RAF raw image', ''), 'application/x-sharedlib': ('', 'shared library', ''), 'image/x-wmf': ('', 'WMF image', ''), 'application/gnunet-directory': ('', 'GNUnet search file', ''), 'video/vnd.rn-realvideo': ('', 'RealVideo document', ''), 'application/x-lzop': ('', 'LZO archive', ''), 'application/vnd.sun.xml.draw': ('', 'OpenOffice Draw drawing', ''), 'application/vnd.oasis.opendocument.chart-template': ('', 'ODC template', ''), 'application/x-theme': ('', 'theme', ''), 'text/enriched': ('', 'enriched text document', ''), 'multipart/appledouble': ('', 'Macintosh AppleDouble-encoded file', ''), 'image/rle': ('', 'Run Length Encoded bitmap image', ''), 'x-content/win32-software': ('', 'Windows software', ''), 'x-content/blank-dvd': ('', 'blank DVD disc', ''), 'application/x-awk': ('', 'AWK script', ''), 'text/x-lilypond': ('', 'Lilypond music sheet', ''), 'application/x-class-file': ('', 'Java byte code', ''), 'audio/x-wav': ('', 'WAV audio', ''), 'application/x-ipod-firmware': ('', 'iPod firmware', ''), 'video/x-flv': ('', 'Flash video', ''), 'application/vnd.oasis.opendocument.text-web': ('', 'OTH template', ''), 'text/x-vhdl': ('', 'VHDL document', ''), 'image/x-olympus-orf': ('', 'Olympus ORF raw image', ''), 'audio/x-psf': ('', 'PSF audio', ''), 'application/x-font-pcf': ('', 'PCF font', ''), 'image/x-sun-raster': ('', 'Sun raster image', ''), 'text/x-mup': ('', 'Mup publication', ''), 'text/x-python': ('', 'Python script', ''), 'application/x-applix-spreadsheet': ('', 'Applix Spreadsheets spreadsheet', ''), 'application/vnd.ms-access': ('', 'JET database', ''), 'text/x-microdvd': ('', 'MicroDVD subtitles', ''), 'inode/mount-point': ('', 'mount point', ''), 'application/x-gmc-link': ('', 'GMC link', ''), 'application/x-xz-compressed-tar': ('', 'Tar archive (XZ-compressed)', ''), 'application/x-macbinary': ('', 'Macintosh MacBinary file', ''), 'application/x-tarz': ('', 'Tar archive (compressed)', ''), 'application/x-troff-man': ('', 'Troff document (with manpage macros)', ''), 'application/vnd.ms-tnef': ('', 'TNEF message', ''), 'application/x-font-framemaker': ('', 'Adobe FrameMaker font', ''), 'application/x-kontour': ('', 'Kontour drawing', ''), 'application/x-ica': ('', 'Citrix ICA settings file', ''), 'video/x-sgi-movie': ('', 'SGI video', ''), 'text/x-bibtex': ('', 'BibTeX document', ''), 'application/x-7z-compressed': ('', '7-zip archive', ''), 'audio/x-ms-asx': ('', 'Microsoft ASX playlist', ''), 'image/x-kodak-k25': ('', 'Kodak K25 raw image', ''), 'application/x-cpio-compressed': ('', 'CPIO archive (gzip-compressed)', ''), 'audio/AMR-WB': ('', 'AMR-WB audio', ''), 'application/docbook+xml': ('', 'DocBook document', ''), 'text/x-setext': ('', 'Setext document', ''), 'application/vnd.oasis.opendocument.graphics': ('', 'ODG drawing', ''), 'text/x-txt2tags': ('', 'txt2tags document', ''), 'application/xslt+xml': ('', 'XSLT stylesheet', ''), 'text/x-fortran': ('', 'Fortran source code', ''), 'application/pkcs10': ('', 'PKCS#10 certification request', ''), 'image/x-lwo': ('', 'LightWave object', ''), 'application/vnd.corel-draw': ('', 'Corel Draw drawing', ''), 'image/x-portable-graymap': ('', 'PGM image', ''), 'application/x-go-sgf': ('', 'SGF record', ''), 'application/x-java-pack200': ('', 'Pack200 Java archive', ''), 'application/pkcs7-signature': ('', 'detached S/MIME signature', ''), 'message/external-body': ('', 'reference to remote file', ''), 'x-content/software': ('', 'software', ''), 'application/x-zoo': ('', 'Zoo archive', ''), 'inode/socket': ('', 'socket', ''), 'model/vrml': ('', 'VRML document', ''), 'application/x-chm': ('', 'CHM document', ''), 'image/x-lws': ('', 'LightWave scene', ''), 'text/plain': ('', 'plain text document', ''), 'application/x-wais-source': ('', 'WAIS source code', ''), 'application/x-bzip-compressed-tar': ('', 'Tar archive (bzip-compressed)', ''), 'application/x-kchart': ('', 'KChart chart', ''), 'application/x-lhz': ('', 'LHZ archive', ''), 'application/vnd.ms-wpl': ('', 'WPL playlist', ''), 'application/x-spss-sav': ('', 'SPSS Data File', ''), 'image/x-exr': ('', 'EXR image', ''), 'application/x-tgif': ('', 'TGIF document', ''), 'application/x-java-keystore': ('', 'Java keystore', ''), 'image/svg+xml': ('', 'SVG image', ''), 'application/x-ms-dos-executable': ('', 'DOS/Windows executable', ''), 'application/vnd.oasis.opendocument.text-master': ('', 'ODM document', ''), 'application/x-spss-por': ('', 'SPSS Portable Data File', ''), 'text/x-cmake': ('', 'CMake source code', ''), 'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ('', 'Word 2007 document', ''), 'image/vnd.dxf': ('', 'DXF vector image', ''), 'text/x-haskell': ('', 'Haskell source code', ''), 'application/x-asp': ('', 'ASP page', ''), 'application/x-pef-executable': ('', 'PEF executable', ''), 'image/gif': ('', 'GIF image', ''), 'image/x-canon-cr2': ('', 'Canon CR2 raw image', ''), 'application/x-glade': ('', 'Glade project', ''), 'image/x-sgi': ('', 'SGI image', ''), 'image/x-icns': ('', 'MacOS X icon', ''), 'application/x-pak': ('', 'PAK archive', ''), 'application/x-dar': ('', 'DAR archive', ''), 'application/x-qw': ('', 'Quicken document', ''), 'application/javascript': ('', 'JavaScript program', ''), 'application/vnd.oasis.opendocument.spreadsheet-flat-xml': ('', 'ODS spreadsheet (Flat XML)', ''), 'text/x-texinfo': ('', 'TeXInfo document', ''), 'image/x-minolta-mrw': ('', 'Minolta MRW raw image', ''), 'application/andrew-inset': ('', 'ATK inset', ''), 'application/vnd.sun.xml.math': ('', 'OpenOffice Math formula', ''), 'image/x-portable-anymap': ('', 'PNM image', ''), 'application/x-gz-font-linux-psf': ('', 'Linux PSF console font (gzip-compressed)', ''), 'application/x-sami': ('', 'SAMI subtitles', ''), 'audio/x-stm': ('', 'Scream Tracker audio', ''), 'application/vnd.hp-hpgl': ('', 'HPGL file', ''), 'text/x-idl': ('', 'IDL document', ''), 'application/x-kexiproject-shortcut': ('', 'shortcut to Kexi project on database server', ''), 'text/vnd.wap.wml': ('', 'WML document', ''), 'text/vnd.rn-realtext': ('', 'RealText document', ''), 'image/x-nikon-nef': ('', 'Nikon NEF raw image', ''), 'application/x-sv4crc': ('', 'SV4 CPIO archive (with CRC)', ''), 'x-content/blank-hddvd': ('', 'blank HD DVD disc', ''), 'application/x-gzip': ('', 'Gzip archive', ''), 'image/x-pentax-pef': ('', 'Pentax PEF raw image', ''), 'image/x-canon-crw': ('', 'Canon CRW raw image', ''), 'text/x-tcl': ('', 'Tcl script', ''), 'application/x-alz': ('', 'Alzip archive', ''), 'audio/x-vorbis+ogg': ('', 'Ogg Vorbis audio', ''), 'audio/x-aiff': ('', 'AIFF/Amiga/Mac audio', ''), 'text/x-mof': ('', 'Managed Object Format', ''), 'audio/x-gsm': ('', 'GSM 06.10 audio', ''), 'audio/x-aifc': ('', 'AIFC audio', ''), 'x-content/blank-cd': ('', 'blank CD disc', ''), 'text/x-csrc': ('', 'C source code', ''), 'text/x-java': ('', 'Java source code', ''), 'audio/x-aiffc': ('', 'AIFF audio', ''), 'application/pkix-crl': ('', 'Certificate revocation list', ''), 'application/metalink+xml': ('', 'Metalink file', ''), 'application/x-ksysv-package': ('', 'KSysV init package', ''), 'application/x-pocket-word': ('', 'Pocket Word document', ''), 'x-content/image-dcf': ('', 'digital photos', ''), 'text/x-scheme': ('', 'Scheme source code', ''), 'image/x-portable-bitmap': ('', 'PBM image', ''), 'application/x-ufraw': ('', 'UFRaw ID image', ''), 'application/x-desktop': ('', 'desktop configuration file', ''), 'application/vnd.oasis.opendocument.chart': ('', 'ODC chart', ''), 'text/troff': ('', 'Troff document', ''), 'audio/vnd.rn-realaudio': ('', 'RealAudio document', ''), 'image/dpx': ('', 'DPX image', ''), 'image/fits': ('', 'FITS document', ''), 'video/x-msvideo': ('', 'AVI video', ''), 'application/x-bzip': ('', 'Bzip archive', ''), 'application/x-font-vfont': ('', 'V font', ''), 'audio/mpeg': ('', 'MP3 audio', ''), 'inode/blockdevice': ('', 'block device', ''), 'application/x-smaf': ('', 'SMAF audio', ''), 'text/x-copying': ('', 'license terms', ''), 'application/x-kword': ('', 'KWord document', ''), 'application/x-msx-rom': ('', 'MSX ROM', ''), 'application/vnd.wordperfect': ('', 'WordPerfect document', ''), 'application/x-tar': ('', 'Tar archive', ''), 'application/x-ustar': ('', 'Ustar archive', ''), 'text/x-c++hdr': ('', 'C++ header', ''), 'image/x-applix-graphics': ('', 'Applix Graphics image', ''), 'text/x-xmi': ('', 'XMI file', ''), 'message/x-gnu-rmail': ('', 'GNU mail message', ''), 'application/ecmascript': ('', 'ECMAScript program', ''), 'application/x-bittorrent': ('', 'BitTorrent seed file', ''), 'application/x-shar': ('', 'shell archive', ''), 'multipart/alternative': ('', 'message in several formats', ''), 'video/dv': ('', 'DV video', ''), 'audio/x-mo3': ('', 'compressed Tracker audio', ''), 'application/x-trash': ('', 'backup file', ''), 'image/x-rgb': ('', 'RGB image', ''), 'application/x-sqlite3': ('', 'SQLite3 database', ''), 'application/x-sqlite2': ('', 'SQLite2 database', ''), 'application/vnd.iccprofile': ('', 'ICC profile', ''), 'application/vnd.sun.xml.calc': ('', 'OpenOffice Calc spreadsheet', ''), 'application/x-hwp': ('', 'Haansoft Hangul document', ''), 'image/x-kodak-dcr': ('', 'Kodak DCR raw image', ''), 'application/x-deb': ('', 'Debian package', ''), 'application/x-shellscript': ('', 'shell script', ''), 'text/x-iMelody': ('', 'iMelody ringtone', ''), 'multipart/mixed': ('', 'compound documents', ''), 'application/x-n64-rom': ('', 'Nintendo64 ROM', ''), 'video/quicktime': ('', 'QuickTime video', ''), 'application/x-gnumeric': ('', 'Gnumeric spreadsheet', ''), 'application/mxf': ('', 'MXF video', ''), 'application/x-gdbm': ('', 'GDBM database', ''), 'application/vnd.stardivision.math': ('', 'StarMath formula', ''), 'application/x-gameboy-rom': ('', 'Game Boy ROM', ''), 'multipart/signed': ('', 'signed message', ''), 'application/x-executable': ('', 'executable', ''), 'audio/x-mod': ('', 'Amiga SoundTracker audio', ''), 'text/rfc822-headers': ('', 'email headers', ''), 'application/x-fluid': ('', 'FLTK Fluid file', ''), 'multipart/digest': ('', 'message digest', ''), 'application/x-stuffit': ('', 'StuffIt archive', ''), 'application/smil': ('', 'SMIL document', ''), 'application/x-font-tex-tfm': ('', 'TeX font metrics', ''), 'image/svg+xml-compressed': ('', 'compressed SVG image', ''), 'application/x-font-speedo': ('', 'Speedo font', ''), 'x-content/audio-dvd': ('', 'audio DVD', ''), 'application/x-tzo': ('', 'Tar archive (LZO-compressed)', ''), 'application/x-it87': ('', 'IT 8.7 color calibration file', ''), 'text/sgml': ('', 'SGML document', ''), 'application/epub+zip': ('', 'electronic book document', ''), 'text/x-erlang': ('', 'Erlang source code', ''), 'application/ogg': ('', 'Ogg multimedia file', ''), 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ('', 'Excel 2007 spreadsheet', ''), 'application/x-dc-rom': ('', 'Dreamcast ROM', ''), 'image/ief': ('', 'IEF image', ''), 'application/vnd.oasis.opendocument.text-template': ('', 'ODT template', ''), 'application/x-par2': ('', 'Parchive archive', ''), 'application/sieve': ('', 'Sieve mail filter script', ''), 'application/dicom': ('', 'DICOM image', ''), 'application/x-quattropro': ('', 'Quattro Pro spreadsheet', ''), 'image/x-3ds': ('', '3D Studio image', ''), 'application/vnd.oasis.opendocument.image': ('', 'ODI image', ''), 'application/vnd.stardivision.draw': ('', 'StarDraw drawing', ''), 'application/prs.plucker': ('', 'Plucker document', ''), 'application/x-archive': ('', 'AR archive', ''), 'application/x-blender': ('', 'Blender scene', ''), 'application/pkix-cert': ('', 'X.509 certificate', ''), 'message/news': ('', 'Usenet news message', ''), 'application/x-font-afm': ('', 'Adobe font metrics', ''), 'application/vnd.stardivision.chart': ('', 'StarChart chart', ''), 'video/x-ms-asf': ('', 'ASF video', ''), 'video/annodex': ('', 'Annodex Video', ''), 'application/x-rar': ('', 'RAR archive', ''), 'application/x-font-libgrx': ('', 'LIBGRX font', ''), 'application/vnd.mozilla.xul+xml': ('', 'XUL interface document', ''), 'video/mpeg': ('', 'MPEG video', ''), 'application/x-matroska': ('', 'Matroska stream', ''), 'text/xmcd': ('', 'XMCD CD database', ''), 'audio/x-scpls': ('', 'MP3 ShoutCast playlist', ''), 'image/x-xwindowdump': ('', 'X window image', ''), 'message/delivery-status': ('', 'mail delivery report', ''), 'video/mp4': ('', 'MPEG-4 video', ''), 'application/x-snes-rom': ('', 'Super NES ROM', ''), 'image/x-sony-arw': ('', 'Sony ARW raw image', ''), 'text/x-uil': ('', 'X-Motif UIL table', ''), 'application/x-wpg': ('', 'WordPerfect/Drawperfect image', ''), 'video/x-flic': ('', 'FLIC animation', ''), 'application/x-sc': ('', 'SC/Xspread spreadsheet', ''), 'application/vnd.sun.xml.writer': ('', 'OpenOffice Writer document', ''), 'text/calendar': ('', 'VCS/ICS calendar', ''), 'multipart/x-mixed-replace': ('', 'stream of data (server push)', ''), 'application/x-magicpoint': ('', 'MagicPoint presentation', ''), 'audio/x-psflib': ('', 'PSFlib audio library', ''), 'application/x-kpovmodeler': ('', 'KPovModeler scene', ''), 'application/vnd.symbian.install': ('', 'SIS package', ''), 'application/x-gnuplot': ('', 'Gnuplot document', ''), 'image/openraster': ('', 'OpenRaster archiving image', ''), 'text/x-gettext-translation': ('', 'translation file', ''), 'application/x-killustrator': ('', 'KIllustrator drawing', ''), 'application/x-mozilla-bookmarks': ('', 'Mozilla bookmarks', ''), 'application/x-php': ('', 'PHP script', ''), 'image/vnd.rn-realpix': ('', 'RealPix document', ''), 'application/x-linguist': ('', 'message catalog', ''), 'application/x-cb7': ('', 'comic book archive', ''), 'image/x-tga': ('', 'TGA image', ''), 'image/vnd.dwg': ('', 'AutoCAD image', ''), 'application/x-planperfect': ('', 'PlanPerfect spreadsheet', ''), 'audio/prs.sid': ('', 'Commodore 64 audio', ''), 'audio/x-s3m': ('', 'Scream Tracker 3 audio', ''), 'application/x-ole-storage': ('', 'OLE2 compound document storage', ''), 'text/x-nfo': ('', 'NFO document', ''), 'text/x-matlab': ('', 'MATLAB script/function', ''), 'text/x-chdr': ('', 'C header', ''), 'image/jp2': ('', 'JPEG-2000 image', ''), 'application/vnd.emusic-emusic_package': ('', 'eMusic download package', ''), 'application/vnd.oasis.opendocument.graphics-flat-xml': ('', 'ODG drawing (Flat XML)', ''), 'text/htmlh': ('', 'help page', ''), 'application/x-cbt': ('', 'comic book archive', ''), 'application/x-cbr': ('', 'comic book archive', ''), 'audio/x-voc': ('', 'VOC audio', ''), 'text/csv': ('', 'CSV document', ''), 'application/mac-binhex40': ('', 'Macintosh BinHex-encoded file', ''), 'application/x-cbz': ('', 'comic book archive', ''), 'text/x-csharp': ('', 'C# source code', ''), 'text/x-ssa': ('', 'SSA subtitles', ''), 'application/vnd.hp-pcl': ('', 'PCL file', ''), 'text/x-dsl': ('', 'DSSSL document', ''), 'application/x-bcpio': ('', 'BCPIO document', ''), 'application/x-gnucash': ('', 'GnuCash financial data', ''), 'text/x-rpm-spec': ('', 'RPM spec file', ''), 'image/x-xcf': ('', 'GIMP image', ''), 'application/x-font-type1': ('', 'Postscript type-1 font', ''), 'text/x-lua': ('', 'Lua script', ''), 'image/x-xcursor': ('', 'X11 cursor', ''), 'application/x-netshow-channel': ('', 'Windows Media Station file', ''), 'image/vnd.wap.wbmp': ('', 'WBMP image', ''), 'application/vnd.openxmlformats-officedocument.presentationml.slideshow': ('', 'PowerPoint 2007 show', ''), 'x-epoc/x-sisx-app': ('', 'SISX package', ''), 'audio/x-iriver-pla': ('', 'iRiver Playlist', ''), 'application/vnd.oasis.opendocument.presentation-template': ('', 'ODP template', ''), 'application/x-abiword': ('', 'AbiWord document', ''), 'application/x-shared-library-la': ('', 'libtool shared library', ''), 'text/spreadsheet': ('', 'spreadsheet interchange document', ''), 'application/x-compress': ('', 'UNIX-compressed file', ''), 'inode/directory': ('', 'folder', ''), 'application/x-object': ('', 'object code', ''), 'application/x-bzpostscript': ('', 'PostScript document (bzip-compressed)', ''), 'image/x-quicktime': ('', 'QuickTime image', ''), 'application/rdf+xml': ('', 'RDF file', ''), 'application/x-dbf': ('', 'Xbase document', ''), 'text/x-install': ('', 'installation instructions', ''), 'multipart/report': ('', 'mail system report', ''), 'application/x-oleo': ('', 'GNU Oleo spreadsheet', ''), 'x-content/audio-player': ('', 'portable audio player', ''), 'text/x-mpsub': ('', 'MPSub subtitles', ''), 'application/x-arc': ('', 'ARC archive', ''), 'application/vnd.oasis.opendocument.spreadsheet-template': ('', 'ODS template', ''), 'application/x-gzpdf': ('', 'PDF document (gzip-compressed)', ''), 'application/vnd.ms-cab-compressed': ('', 'Microsoft Cabinet archive', ''), 'text/tab-separated-values': ('', 'TSV document', ''), 'application/x-arj': ('', 'ARJ archive', ''), 'application/x-kword-crypt': ('', 'KWord document (encrypted)', ''), 'application/msword': ('', 'Word document', ''), 'message/partial': ('', 'partial email message', ''), 'application/x-gzdvi': ('', 'TeX DVI document (gzip-compressed)', ''), 'image/png': ('', 'PNG image', ''), 'application/x-m4': ('', 'M4 macro', ''), 'audio/ac3': ('', 'Dolby Digital audio', ''), 'application/x-x509-ca-cert': ('', 'DER/PEM/Netscape-encoded X.509 certificate', ''), 'application/vnd.lotus-1-2-3': ('', 'Lotus 1-2-3 spreadsheet', ''), 'application/x-subrip': ('', 'SubRip subtitles', ''), 'image/x-macpaint': ('', 'MacPaint Bitmap image', ''), 'image/x-dcraw': ('', 'digital raw image', ''), 'application/sdp': ('', 'SDP multicast stream file', ''), 'application/x-lzma-compressed-tar': ('', 'Tar archive (LZMA-compressed)', ''), 'image/x-sony-sr2': ('', 'Sony SR2 raw image', ''), 'image/x-ilbm': ('', 'ILBM image', ''), 'video/vivo': ('', 'Vivo video', ''), 'application/x-kugar': ('', 'Kugar document', ''), 'text/x-ocaml': ('', 'OCaml source code', ''), 'application/x-gba-rom': ('', 'Game Boy Advance ROM', ''), 'application/x-rpm': ('', 'RPM package', ''), 'image/fax-g3': ('', 'CCITT G3 fax', ''), 'text/x-changelog': ('', 'ChangeLog document', ''), 'application/oda': ('', 'ODA document', ''), 'application/vnd.ms-excel': ('', 'Excel spreadsheet', ''), 'application/rtf': ('', 'RTF document', ''), 'text/x-adasrc': ('', 'Ada source code', ''), 'application/x-netcdf': ('', 'Unidata NetCDF document', ''), 'image/x-pict': ('', 'Macintosh Quickdraw/PICT drawing', ''), 'application/x-fictionbook+xml': ('', 'FictionBook document', ''), 'text/x-tex': ('', 'TeX document', ''), 'text/html': ('', 'HTML document', ''), 'text/vnd.sun.j2me.app-descriptor': ('', 'JAD document', ''), 'application/x-core': ('', 'program crash data', ''), 'application/x-java-jce-keystore': ('', 'Java JCE keystore', ''), 'application/vnd.stardivision.calc': ('', 'StarCalc spreadsheet', ''), 'audio/x-xmf': ('', 'XMF audio', ''), 'application/x-quicktime-media-link': ('', 'QuickTime metalink playlist', ''), 'application/vnd.oasis.opendocument.text': ('', 'ODT document', ''), 'application/x-kexi-connectiondata': ('', 'Kexi settings for database server connection', ''), 'application/x-perl': ('', 'Perl script', ''), 'application/vnd.oasis.opendocument.graphics-template': ('', 'ODG template', ''), 'video/isivideo': ('', 'ISI video', ''), 'x-content/video-vcd': ('', 'Video CD', ''), 'application/vnd.oasis.opendocument.formula': ('', 'ODF formula', ''), 'application/x-font-dos': ('', 'DOS font', ''), 'inode/symlink': ('', 'symbolic link', ''), 'application/x-lzma': ('', 'LZMA archive', ''), 'application/xml-dtd': ('', 'DTD file', ''), 'application/vnd.google-earth.kmz': ('', 'KML geographic compressed data', ''), 'text/x-troff-mm': ('', 'Troff MM input document', ''), 'application/x-chess-pgn': ('', 'PGN chess game notation', ''), 'application/xml-external-parsed-entity': ('', 'XML entities document', ''), 'image/x-compressed-xcf': ('', 'compressed GIMP image', ''), 'text/x-subviewer': ('', 'SubViewer subtitles', ''), 'application/pdf': ('', 'PDF document', ''), 'application/x-kexiproject-sqlite2': ('', 'Kexi database file-based project', ''), 'application/x-kexiproject-sqlite3': ('', 'Kexi database file-based project', ''), 'application/x-pw': ('', 'Pathetic Writer document', ''), 'text/x-iptables': ('', 'iptables configuration file', ''), 'application/x-cd-image': ('', 'raw CD image', ''), 'audio/x-speex+ogg': ('', 'Ogg Speex audio', ''), 'application/octet-stream': ('', 'unknown', ''), 'application/x-shorten': ('', 'Shorten audio', ''), 'application/x-tex-gf': ('', 'generic font file', ''), 'image/x-sony-srf': ('', 'Sony SRF raw image', ''), 'text/x-patch': ('', 'differences between files', ''), 'application/x-palm-database': ('', 'Palm OS database', ''), 'application/pgp-signature': ('', 'detached OpenPGP signature', ''), 'application/atom+xml': ('', 'Atom syndication feed', ''), 'application/vnd.oasis.opendocument.presentation': ('', 'ODP presentation', ''), 'text/x-pascal': ('', 'Pascal source code', ''), 'application/vnd.sun.xml.impress': ('', 'OpenOffice Impress presentation', ''), 'x-content/audio-cdda': ('', 'audio CD', ''), 'message/disposition-notification': ('', 'mail disposition report', ''), 'application/mathematica': ('', 'Mathematica Notebook', ''), 'application/x-gtktalog': ('', 'GTKtalog catalog', ''), 'text/x-moc': ('', 'Qt MOC file', ''), 'application/mbox': ('', 'mailbox file', ''), 'text/x-eiffel': ('', 'Eiffel source code', ''), 'application/vnd.stardivision.mail': ('', 'StarMail email', ''), 'image/x-gzeps': ('', 'EPS image (gzip-compressed)', ''), 'image/g3fax': ('', 'G3 fax image', ''), 'image/vnd.ms-modi': ('', 'Microsoft Document Imaging format', ''), 'application/x-navi-animation': ('', 'Windows animated cursor', ''), 'text/x-vala': ('', 'Vala source code', ''), 'application/x-nintendo-ds-rom': ('', 'Nintendo DS ROM', ''), 'image/x-sigma-x3f': ('', 'Sigma X3F raw image', ''), 'text/x-credits': ('', 'author credits', ''), 'application/x-bzdvi': ('', 'TeX DVI document (bzip-compressed)', ''), 'application/x-mif': ('', 'Adobe FrameMaker MIF document', ''), 'text/x-objcsrc': ('', 'Objective-C source code', ''), 'application/x-graphite': ('', 'Graphite scientific graph', ''), 'application/pkcs7-mime': ('', 'S/MIME file', ''), 'image/x-panasonic-raw': ('', 'Panasonic raw image', ''), 'application/x-kformula': ('', 'KFormula formula', ''), 'audio/x-matroska': ('', 'Matroska audio', ''), 'application/vnd.sun.xml.draw.template': ('', 'OpenOffice Draw template', ''), 'application/x-nes-rom': ('', 'NES ROM', ''), 'image/vnd.djvu': ('', 'DjVu image', ''), 'video/ogg': ('', 'Ogg Video', ''), 'image/x-adobe-dng': ('', 'Adobe DNG negative', ''), 'application/ram': ('', 'RealMedia Metafile', ''), 'audio/annodex': ('', 'Annodex Audio', ''), 'text/directory': ('', 'electronic business card', ''), 'application/x-csh': ('', 'C shell script', ''), 'image/jpeg': ('', 'JPEG image', ''), 'application/x-kspread': ('', 'KSpread spreadsheet', ''), 'inode/fifo': ('', 'pipe', ''), 'application/vnd.openofficeorg.extension': ('', 'OpenOffice.org extension', ''), 'application/vnd.ms-works': ('', 'Microsoft Works document', ''), 'application/vnd.ms-xpsdocument': ('', 'XPS document', ''), 'application/vnd.openxmlformats-officedocument.presentationml.presentation': ('', 'PowerPoint 2007 presentation', ''), 'application/pgp-encrypted': ('', 'PGP/MIME-encrypted message header', ''), 'audio/mp2': ('', 'MP2 audio', ''), 'audio/mp4': ('', 'MPEG-4 audio', ''), 'x-content/image-picturecd': ('', 'Picture CD', ''), 'text/x-opml+xml': ('', 'OPML syndication feed', ''), 'application/vnd.sun.xml.writer.global': ('', 'OpenOffice Writer global document', ''), 'application/x-troff-man-compressed': ('', 'manual page (compressed)', ''), 'video/x-ogm+ogg': ('', 'OGM video', ''), 'text/x-dsrc': ('', 'D source code', ''), 'application/x-lzip': ('', 'Lzip archive', ''), 'text/x-gettext-translation-template': ('', 'translation template', ''), 'x-content/unix-software': ('', 'UNIX software', ''), 'application/vnd.stardivision.writer': ('', 'StarWriter document', ''), 'application/x-tex-pk': ('', 'packed font file', ''), 'application/x-mswinurl': ('', 'Internet shortcut', ''), 'image/x-portable-pixmap': ('', 'PPM image', ''), 'application/x-pkcs7-certificates': ('', 'PKCS#7 certificate bundle', ''), 'application/vnd.oasis.opendocument.text-flat-xml': ('', 'ODT document (Flat XML)', ''), 'application/x-mswrite': ('', 'WRI document', ''), 'video/x-nsv': ('', 'NullSoft video', ''), 'application/x-applix-word': ('', 'Applix Words document', ''), 'audio/x-flac+ogg': ('', 'Ogg FLAC audio', ''), 'audio/basic': ('', 'ULAW (Sun) audio', ''), 'video/x-mng': ('', 'MNG animation', ''), 'application/x-slp': ('', 'Stampede package', ''), 'text/x-uri': ('', 'resource location', ''), 'application/vnd.rn-realmedia': ('', 'RealMedia document', ''), 'application/x-t602': ('', 'T602 document', ''), 'image/x-fpx': ('', 'FPX image', ''), 'image/x-win-bitmap': ('', 'Windows cursor', ''), 'application/x-font-otf': ('', 'OpenType font', '')}
	_types_map = types_map
	
	def __init__(self, mime):
		if mime not in self._mimes_map:
			mime = DEFAULT_MIME_TYPE
		self.__name = mime
	
	@classmethod
	def fromName(cls, f):
		_, ext = os.path.splitext(f)
		if ext not in cls._types_map: # Always try a case-sensitive match first
			ext = ext.lower()
		if ext in cls._types_map:
			mime = cls._types_map[ext]
		else:
			mime = DEFAULT_MIME_TYPE
		return cls(mime)
	
	@classmethod
	def register(cls, mime, extension, parent="", comment="", icon=""):
		cls._mimes_map[mime] = (parent, comment, icon)
		cls._types_map[extension] = mime
	
	@classmethod
	def registerExtension(cls, mime, extension):
		cls._types_map[extension] = mime
	
	def comment(self):
		return self._mimes_map[self.name()][1]
	
	def genericIcon(self):
		return self._mimes_map[self.name()][2]
	
	def icon(self):
		return self.genericIcon() or self.name().replace("/", "-")
	
	def isDefault(self):
		return self.name() is DEFAULT_MIME_TYPE
	
	def name(self):
		return self.__name
	
	def parent(self):
		parent = self._mimes_map[self.name()][0]
		return MimeType(parent)

del types_map
assert DEFAULT_MIME_TYPE in MimeType._mimes_map

MimeType.register("application/vnd.bliz-anim", ".anim", "", "Model ANIM data",    "3d-x-generic")
MimeType.register("application/vnd.bliz-dbc",  ".dbc",  "", "WoW database file",  "x-office-spreadsheet")
MimeType.register("application/vnd.bliz-mdx",  ".mdx",  "", "Blizzard MDX model", "3d-x-generic")
MimeType.register("application/vnd.bliz-mpq",  ".mpq",  "", "MPQ archive",        "package-x-generic")
MimeType.register("application/vnd.bliz-skin", ".skin", "", "Model SKIN data",    "3d-x-generic")
MimeType.register("application/vnd.bliz-wmo",  ".wmo",  "", "World model object", "3d-x-generic")
MimeType.register("image/vnd.bliz-blp",        ".blp",  "", "BLP image",          "image-x-generic")
MimeType.registerExtension("application/vnd.bliz-dbc", ".db2")
MimeType.registerExtension("application/vnd.bliz-dbc", ".wdb")
MimeType.registerExtension("application/vnd.bliz-mdx", ".mdx")
MimeType.registerExtension("application/vnd.bliz-mdx", ".m2")
MimeType.registerExtension("application/vnd.bliz-mdx", ".m3")

# Python bugs
MimeType.registerExtension("application/x-font-ttf", ".ttf")
MimeType.registerExtension("audio/ogg", ".ogg")
